<style>body{display:flex;flex-direction:column;align-items:center;font-family:Arial,sans-serif}canvas{border:1px solid #000;position:relative}#coordinates{position:absolute;top:10px;left:10px;background-color:#fff;padding:5px;border:1px solid #000}</style><title>Function Grapher</title><h1>Function Grapher</h1><input id=f placeholder="Enter function, e.g., sin^2(x)"> <button id=b>Graph Function</button><canvas height=400 id=c width=600></canvas><script>window.onload=function(){const c=document.getElementById('c');const x=c.getContext('2d');const i=document.getElementById('f');const b=document.getElementById('b');let sx=40,sy=40,ox=c.width/2,oy=c.height/2;function g(f){x.clearRect(0,0,c.width,c.height);x.beginPath();x.moveTo(0,oy);x.lineTo(c.width,oy);x.moveTo(ox,0);x.lineTo(ox,c.height);x.stroke();x.font='10px Arial';x.fillStyle='black';for(let j=-ox;j<c.width-ox;j+=sx){x.fillText((j/sx).toFixed(0),j+ox,oy+10);}for(let j=-oy;j<c.height-oy;j+=sy){x.fillText((-j/sy).toFixed(0),ox+5,j+oy);}x.beginPath();for(let j=-ox;j<ox;j++){const y=f(j/sx)*sy;j===-ox?x.moveTo(j+ox,oy-y):x.lineTo(j+ox,oy-y);}x.stroke();}function p(i){let pi=i.replace(/\^/g,'**').replace(/sin/g,'Math.sin').replace(/cos/g,'Math.cos').replace(/tan/g,'Math.tan').replace(/sqrt/g,'Math.sqrt').replace(/log/g,'Math.log').replace(/pi/g,'Math.PI').replace(/e/g,'Math.E');return new Function('x',`return ${pi}`);}b.addEventListener('click',()=>{const u=i.value;try{const f=p(u);g(f);}catch(e){alert('Invalid function');}});c.addEventListener('wheel',(e)=>{e.preventDefault();e.deltaY<0?(sx*=1.1,sy*=1.1):(sx/=1.1,sy/=1.1);const u=i.value;try{const f=p(u);g(f);}catch(e){alert('Invalid function');}});c.addEventListener('mousemove',(e)=>{const r=c.getBoundingClientRect();const mx=e.clientX-r.left-ox;const xVal=(mx/sx).toFixed(2);const u=i.value;try{const f=p(u);const yVal=f(xVal).toFixed(2);const cy=oy-(yVal*sy);g(f);x.fillText(`(${xVal}, ${yVal})`,10,10);x.beginPath();x.arc(mx+ox,cy,3,0,2*Math.PI);x.fill();}catch(e){x.clearRect(0,0,c.width,20);x.fillText('Invalid function',10,10);}});};</script>
